"use strict";(self.webpackChunkfirstapp=self.webpackChunkfirstapp||[]).push([[592],{5442:function(e,t,n){n.d(t,{e:function(){return c}});var s=n(8683),r=n(5987),i=n(2187),o=n(184),u=["input","meta"],c=function(e){var t=e.input,n=e.meta,c=(0,r.Z)(e,u),a=n.touched&&n.error;return(0,o.jsxs)("div",{className:i.Z.formControl+" "+(a?i.Z.error:" "),children:[(0,o.jsx)("div",{children:(0,o.jsx)(c.tag,(0,s.Z)((0,s.Z)({},c),t))}),(0,o.jsx)("div",{children:a&&(0,o.jsx)("span",{children:n.error})})]})}},592:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var s=n(8683),r=n(5987),i=n(2791),o=n(9439),u="ProfileInfo_descriptionBlock__XBXuJ",c="ProfileInfo_customFileInput__ZQBFP",a="ProfileInfo_contactsMargin__62tW-",l="ProfileInfo_errorMessage__eSxWY",d=n(4353),f=n(9496),x=n(184),h=function(e){var t=(0,i.useState)(!1),n=(0,o.Z)(t,2),s=n[0],r=n[1],u=(0,i.useState)(e.status),c=(0,o.Z)(u,2),a=c[0],l=c[1];return(0,i.useEffect)((function(){l(e.status)}),[e.status]),(0,x.jsx)("div",{children:s?(0,x.jsxs)("p",{children:[(0,x.jsx)("b",{children:"Status: "}),(0,x.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(a)},value:a,type:""})]}):(0,x.jsxs)("p",{children:[(0,x.jsx)("b",{children:"Status: "}),(0,x.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status||"\u0417\u0430\u0434\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})]})})},j=function(e){var t=e.contactTitle,n=e.contactValue;return(0,x.jsxs)("div",{className:a,children:[(0,x.jsxs)("b",{children:[t,": "]}),n]})},p=function(e){var t=e.profile,n=e.isOwner,s=e.goToEditMode;return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{children:n&&(0,x.jsx)("button",{onClick:s,children:"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"FullName: "}),t.fullName]}),(0,x.jsxs)("div",{children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Looking for a Job: "})," ",t.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"My skills: "}),t.lookingForAJobDescription]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"About me:"})," ",t.aboutMe]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"contacts: "}),Object.keys(t.contacts).map((function(e){return(0,x.jsx)(j,{className:a,contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},m=n(6139),v=n(704),b=["profile"],g=(0,v.Z)({form:"editProfile"})((function(e){var t=e.profile,n=(0,r.Z)(e,b);return(0,x.jsxs)("form",{onSubmit:n.handleSubmit,children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:l,children:n.error}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"FullName: "}),(0,x.jsx)(m.Z,{placeholder:"fullName",name:"fullName",component:"input",type:"text"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"Looking for a Job: "}),(0,x.jsx)(m.Z,{name:"lookingForAJob",component:"input",type:"checkbox"})]}),(0,x.jsx)("div",{children:(0,x.jsx)("b",{children:"My skills: "})}),(0,x.jsx)(m.Z,{name:"lookingForAJobDescription",component:"textarea",type:"textarea"}),(0,x.jsx)("div",{children:(0,x.jsx)("b",{children:"About me:"})}),(0,x.jsx)(m.Z,{name:"aboutMe",component:"textarea",type:"textarea"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("b",{children:"contacts: "}),Object.keys(t.contacts).map((function(e){return(0,x.jsxs)("div",{className:a,children:[(0,x.jsxs)("b",{children:[e,": "]}),(0,x.jsx)(m.Z,{name:"contacts.".concat(e),component:"input",type:"text",placeholder:e})]},e)}))]})]})})),P=["profile"],Z=function(e){var t=e.profile,n=(0,r.Z)(e,P),s=(0,i.useState)(!1),a=(0,o.Z)(s,2),l=a[0],j=a[1];if(!t)return(0,x.jsx)(f.Z,{});return(0,x.jsx)("div",{children:(0,x.jsx)("div",{className:u,children:(0,x.jsxs)("div",{children:[(0,x.jsx)("img",{src:t.photos.large||d,alt:""}),n.isOwner&&(0,x.jsx)("div",{children:(0,x.jsx)("input",{className:c,type:"file",id:"photo",onChange:function(e){var t=e.currentTarget.files[0];n.savePhoto(t)}})}),(0,x.jsx)(h,{status:n.status,updateStatus:n.updateStatus}),l?(0,x.jsx)(g,{initialValues:t,profile:t,onSubmit:function(e){n.saveProfile(e).then((function(){j(!1)}))}}):(0,x.jsx)(p,{profile:t,isOwner:n.isOwner,goToEditMode:function(){return j(!0)}})]})})})},_=n(6070),k="MyPosts_posts__osR5r",S="MyPosts_postBlock__pQ6uD",y={},C=function(e){return(0,x.jsxs)("div",{className:y.item,children:[(0,x.jsx)("img",{className:"ava",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQypj29pzM-egDEkWJsvNtRwymMjwR3XOnq3Q&usqp=CAU",alt:""}),e.post,(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{children:"like: "})," ",e.likesCount]})]})},N=n(5304),A=n(5442),F=(0,N.D)(30),I=i.memo((function(e){var t=e.profilePage.posts.map((function(e){return(0,x.jsx)(C,{post:e.post,likesCount:e.likesCount},e.id)}));return(0,x.jsxs)("div",{className:S,children:[(0,x.jsx)("h3",{children:"My post"}),(0,x.jsx)("p",{children:"new post"}),(0,x.jsx)("div",{children:(0,x.jsx)(M,{onSubmit:function(t){e.addPost(t.newPostBody)}})}),(0,x.jsx)("div",{className:k}),t]})})),M=(0,v.Z)({form:"postsAddPostForm"})((function(e){return(0,x.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,x.jsx)(m.Z,{name:"newPostBody",component:A.e,tag:"textarea",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430",validate:[N.C,F]}),(0,x.jsx)("button",{children:"Add post "})]})})),w=I,O=n(8687),J=(0,O.$j)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){return e((0,_.q2)(t))}}}))(w),B=function(e){return(0,x.jsxs)("div",{children:[(0,x.jsx)(Z,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile,userId:e.userId}),(0,x.jsx)(J,{store:e.store})]})},D=n(7689),q=n(27),E=n(7781),T=n(1548),X=["userId"],Q=(0,E.qC)(T.Z,(0,O.$j)((function(e){return{profile:e.profilePage.profile,isAuth:e.auth.isAuth,status:e.profilePage.profileStatus,userId:e.auth.userId}}),{getProfile:_.Ai,getStatus:_.lR,updateStatus:_.Nf,savePhoto:_.Ju,saveProfile:_.Ii}))((function(e){var t=e.userId,n=(0,r.Z)(e,X),o=(0,D.UO)(),u=String(t)===o.userId;return(0,i.useEffect)((function(){var e=o.userId;e||(t?e=t:(0,q.uX)("Login")),n.getProfile(e),n.getStatus(e)}),[o.userId]),n.isAuth?(0,x.jsx)("div",{children:(0,x.jsx)(B,(0,s.Z)((0,s.Z)({},n),{},{userId:t,profile:n.profile,isOwner:u,saveProfile:n.saveProfile}))}):(0,x.jsx)(D.Fg,{to:"/login"})}))},1548:function(e,t,n){var s=n(8683),r=(n(2791),n(7689)),i=n(8687),o=n(184),u=function(e){return{isAuth:e.auth.isAuth}};t.Z=function(e){return(0,i.$j)(u)((function(t){return t.isAuth?(0,o.jsx)(e,(0,s.Z)({},t)):(0,o.jsx)(r.Fg,{to:"/login"})}))}},5304:function(e,t,n){n.d(t,{C:function(){return s},D:function(){return r}});var s=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbol")}}},2187:function(e,t){t.Z={formControl:"FormControls_formControl__CAlX7",error:"FormControls_error__Zkh-E",errorMessage:"FormControls_errorMessage__feX+V"}},4353:function(e,t,n){e.exports=n.p+"static/media/user.5faf09a7795d28bf5a2b.png"}}]);
//# sourceMappingURL=592.4d279012.chunk.js.map