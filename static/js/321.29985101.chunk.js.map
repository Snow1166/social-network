{"version":3,"file":"static/js/321.29985101.chunk.js","mappings":"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","sources":["webpack://firstapp/./src/common/Paginator/Paginator.module.css?abf7","common/Paginator/Paginator.jsx","webpack://firstapp/./src/components/Users/Users.module.css?b9d0","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","hoc/withAuthRedirect.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"selectedPage\":\"Paginator_selectedPage__ZUROL\",\"nonSelected\":\"Paginator_nonSelected__Qa-TA\",\"paginator\":\"Paginator_paginator__7cO3l\"};","import style from \"./Paginator.module.css\";\nimport React, {useState} from \"react\";\n\n\nconst Paginator = ({currentPage, totalItemCount, pageSize, onPageChanged, portionSize=10}) => {\n\n    let pages = []\n    // for (let i = 1; i <= 10; i++) {  // i <= pageCount\n    //     pages.push(i)\n    // }\n    let pageCount = Math.ceil(totalItemCount / pageSize)\n    for (let i = 1; i <= pageCount; i++) {\n        pages.push(i)\n    }\n    const portionCount = Math.ceil(pageCount / portionSize);\n    const [portionNumber , setPortionNumber] = useState(1);\n    const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    const rightPortionPageNumber = portionNumber * portionSize;\n\n\n    return (\n        <div className={style.paginator}>\n            {leftPortionPageNumber > 1 && <button onClick={() => setPortionNumber(portionNumber - 1)}>PREV</button>}\n\n            {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber).map(p => <span key={p} onClick={() => onPageChanged(p)}\n                                  className={currentPage === p ? style.selectedPage : style.nonSelected}>{p} </span>)}\n            {portionNumber < portionCount && <button onClick={() => setPortionNumber(portionNumber + 1)} >NEXT</button>}\n        </div>\n    )\n}\nexport default Paginator;\n","// extracted by mini-css-extract-plugin\nexport default {\"usersPhoto\":\"Users_usersPhoto__lc+ty\"};","import style from \"./Users.module.css\";\nimport userPhoto from \"../../assets/images/user.png\";\nimport React from \"react\";\nimport {NavLink} from \"react-router-dom\";\n\n\nconst Users = ({user, followingInProgress, follow, unfollow, name, status}) => {\n    return (\n        <div key={user.id}>\n        <span>\n            <div>\n                <NavLink to={'/profile/' + user.id}>\n                    <img className={style.usersPhoto} src={user.photos.small ? user.photos.small : userPhoto} alt=\"\"/>\n                </NavLink>\n            </div>\n            <div>\n                {user.followed\n                    ? <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n                        unfollow(user.id)\n                    }}>Unfollow</button>\n                    : <button disabled={followingInProgress.some(id => id === user.id)} onClick={() => {\n                        follow(user.id)\n                    }}>Follow</button>}\n            </div>\n        </span>\n            <span>\n            <span>\n                <div>{user.name}</div>\n                <div>{user.status}</div>\n            </span>\n            <span>\n                <div>{'user.location.country'}</div>\n                <div>{'user.location.city'}</div>\n            </span>\n        </span>\n        </div>)\n}\n\n\nexport default Users;\n","import React from \"react\";\nimport Paginator from \"../../common/Paginator/Paginator\";\nimport User from \"./User\";\n\n\nconst Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, ...props}) => {\n    return (\n        <div>\n            <Paginator currentPage={currentPage} totalItemCount={totalUsersCount} pageSize={pageSize}\n                       onPageChanged={onPageChanged}/>\n\n            {props.users.map(u => <User\n                user={u}\n                followingInProgress={props.followingInProgress}\n                follow={props.follow}\n                unfollow={props.unfollow}\n                key={u.id}/>\n            )}\n        </div>\n    )\n}\n\nexport default Users;\n","import { createSelectorHook } from \"react-redux\"\n\n\n\nexport const getUsers = (state) => {\n    return state.usersPage.users\n}\n\n// export const getUsers = createSelector()\n\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage\n}\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n}\n\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching\n}\n\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress\n}\n\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount\n}\n","import {connect} from \"react-redux\";\nimport Users from \"./Users\";\nimport {follow, unfollow, requestUsers} from \"../../redux/users-reducer\";\nimport React from \"react\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount,\n    getUsers\n} from \"../../redux/users-selectors\";\n\nclass UsersComponent extends React.Component {\n\n    componentDidMount() {\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\n    }\n\n    onPageChanged = (pageNumber) => {\n        this.props.getUsers(pageNumber, this.props.pageSize)\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching ? <Preloader/> : null}\n            <Users users={this.props.users}\n                   totalUsersCount={this.props.totalUsersCount}\n                   pageSize={this.props.pageSize}\n                   currentPage={this.props.currentPage}\n                   onPageChanged={this.onPageChanged}\n                   followingInProgress={this.props.followingInProgress}\n                   unfollow={this.props.unfollow}\n                   follow={this.props.follow}\n            />\n        </>\n    }\n}\n\n// let mapStateToProps = (state) => {\n//     return {\n//         users: state.usersPage.users,\n//         currentPage: state.usersPage.currentPage,\n//         pageSize: state.usersPage.pageSize,\n//         isFetching: state.usersPage.isFetching,\n//         followingInProgress: state.usersPage.followingInProgress,\n//     }\n// }\n\nlet mapStateToProps = (state) => {\n    return {\n        users: getUsers(state),\n        currentPage: getCurrentPage(state),\n        totalUsersCount: getTotalUsersCount(state),\n        pageSize: getPageSize(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\n\nexport default compose(\n    connect(mapStateToProps, {getUsers: requestUsers, unfollow, follow}),\n    withAuthRedirect,\n)(UsersComponent)\n","import React from \"react\";\nimport {Navigate} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n})\n\n\n// const withAuthRedirect = (Component) => {\n//     class RedirectComponent extends React.Component {\n//         render() {\n//             if (this.props.isAuth) {return <Component {...this.props}/>}\n//             return <Navigate to={'/login'}/>\n//         }\n//     }\n//     return connect(mapStateToProps)(RedirectComponent)\n// }\n\nconst withAuthRedirect = (Component) => {\n    const AuthCont = (props) => {\n        if (props.isAuth) {\n            return <Component {...props} />\n        }\n        return <Navigate to={'/login'}/>\n    }\n    return connect(mapStateToProps)(AuthCont)\n}\n\nexport default withAuthRedirect\n\n\n\n\n","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}"],"names":["_ref","currentPage","totalItemCount","pageSize","onPageChanged","_ref$portionSize","portionSize","pages","pageCount","Math","ceil","i","push","portionCount","_useState","useState","_useState2","_slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","_jsxs","className","style","children","_jsx","onClick","filter","p","map","user","followingInProgress","follow","unfollow","name","status","NavLink","to","id","src","photos","small","userPhoto","alt","followed","disabled","some","totalUsersCount","props","_objectWithoutProperties","_excluded","Paginator","users","u","User","getUsers","state","usersPage","getCurrentPage","getPageSize","getIsFetching","isFetching","getFollowingInProgress","getTotalUsersCount","UsersComponent","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","pageNumber","_createClass","key","value","this","_Fragment","Preloader","Users","React","compose","connect","requestUsers","withAuthRedirect","mapStateToProps","isAuth","auth","Component","_objectSpread","Navigate","source","excluded","target","Object","getOwnPropertySymbols","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable"],"sourceRoot":""}