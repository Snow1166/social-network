{"version":3,"file":"static/js/510.70bf631e.chunk.js","mappings":"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","sources":["common/FormControls/FormControls.js","webpack://firstapp/./src/components/Dialogs/Dialogs.module.css?1b2e","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialog/DialogItem.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","hoc/withAuthRedirect.js","utils/validators/validators.js","webpack://firstapp/./src/common/FormControls/FormControls.module.css?d07c"],"sourcesContent":["import styles from './FormControls.module.css'\n\n\nexport const ControlInputText = ({input, meta, ...props}) => {\n    const hasError = meta.touched && meta.error\n\n    return (\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : ' ')}>\n            <div>\n                <props.tag  {...props} {...input}/>\n            </div>\n            <div>\n                {hasError && <span>{meta.error}</span>}\n            </div>\n        </div>\n    )\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__oe96H\",\"dialogsItems\":\"Dialogs_dialogsItems__zeEWD\",\"active\":\"Dialogs_active__t8cjl\",\"messages\":\"Dialogs_messages__Cg2l+\",\"dialog\":\"Dialogs_dialog__htSTl\",\"message\":\"Dialogs_message__ZEWo0\"};","import s from '../Dialogs.module.css'\n\nconst Message = (props) => {\n    return (\n        <div className={s.message}>\n            {props.message}\n        </div>\n    )\n};\n\nexport default Message;\n","import s from './../Dialogs.module.css'\nimport {NavLink} from \"react-router-dom\";\n\n\nconst DialogItem = (props) => {\n    return (\n        <div className={s.dialog}>\n            <NavLink to={'dialogs/' + props.id} className={active => active.isActive ? s.active : s.dialog}>\n                {props.name}\n            </NavLink>\n        </div>)\n};\n\nexport default DialogItem;\n","import style from './Dialogs.module.css'\nimport Message from \"./Message/Message\";\nimport DialogItem from \"./Dialog/DialogItem\";\nimport React from \"react\";\nimport {Navigate} from \"react-router-dom\";\nimport {Field, reduxForm} from \"redux-form\";\nimport {ControlInputText} from \"../../common/FormControls/FormControls\";\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\n\nconst maxLengthMessage100 = maxLengthCreator(100)\nconst AddMessageForm = (props) => {\n    return <form onSubmit={props.handleSubmit}>\n        <Field name={'newMessageBody'} component={ControlInputText} tag={'textarea'} placeholder={'Введите текст сообщения'} validate={[required, maxLengthMessage100] } type={<textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\"></textarea>}/>\n        <button >send message</button>\n    </form>\n}\n\n\nconst Dialogs = (props) => {\n    let dialogsElement = props.dialogs.map(el => <DialogItem key={el.id} id={el.id} name={el.name}/>)\n    let messagesElement = props.messages.map(el => <Message key={el.id} message={el.message}/>)\n\n    const addNewMessage = (value) => {\n        props.sendMessage(value.newMessageBody)\n    }\n\n    if (!props.isAuth) return <Navigate to={'/login'}/>\n\n    return (\n        <div className={style.dialogs}>\n            <div className={style.dialogsItems}>\n                <div className={style.items}>\n                    {dialogsElement}\n                </div>\n            </div>\n            <div>\n                <div className={style.messages}>\n                    {messagesElement}\n                </div>\n                <div>\n                    <AddMessageFormRedux onSubmit={addNewMessage}/>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nconst AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm)\n\nexport default Dialogs;\n","import Dialogs from \"./Dialogs\";\nimport {sendMessage} from \"../../redux/dialogs-reducer\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\n\n\nlet mapStateToProps = (state) => {\n    return{\n        dialogs: state.dialogsPage.dialogs,\n        messages: state.dialogsPage.messages,\n        textNewMessage: state.dialogsPage.textNewMessage,\n        isAuth: state.auth.isAuth\n    }\n}\n\nexport default compose(\n    connect(mapStateToProps, {sendMessage}),\n    withAuthRedirect\n)(Dialogs)\n","import React from \"react\";\nimport {Navigate} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n})\n\n\n// const withAuthRedirect = (Component) => {\n//     class RedirectComponent extends React.Component {\n//         render() {\n//             if (this.props.isAuth) {return <Component {...this.props}/>}\n//             return <Navigate to={'/login'}/>\n//         }\n//     }\n//     return connect(mapStateToProps)(RedirectComponent)\n// }\n\nconst withAuthRedirect = (Component) => {\n    const AuthCont = (props) => {\n        if (props.isAuth) {\n            return <Component {...props} />\n        }\n        return <Navigate to={'/login'}/>\n    }\n    return connect(mapStateToProps)(AuthCont)\n}\n\nexport default withAuthRedirect\n\n\n\n\n","export const required = value =>{\n    if (value) return undefined\n    return 'Field is required'\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `Max length is ${maxLength} symbol`\n    return undefined\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"formControl\":\"FormControls_formControl__CAlX7\",\"error\":\"FormControls_error__Zkh-E\",\"errorMessage\":\"FormControls_errorMessage__feX+V\"};"],"names":["ControlInputText","_ref","input","meta","props","_objectWithoutProperties","_excluded","hasError","touched","error","_jsxs","className","styles","children","_jsx","tag","_objectSpread","s","message","NavLink","to","id","active","isActive","name","maxLengthMessage100","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","validate","required","type","cols","rows","dialogsElement","dialogs","map","el","DialogItem","messagesElement","messages","Message","isAuth","style","value","sendMessage","newMessageBody","Navigate","compose","connect","state","dialogsPage","textNewMessage","auth","withAuthRedirect","Dialogs","mapStateToProps","Component","maxLength","length","concat"],"sourceRoot":""}